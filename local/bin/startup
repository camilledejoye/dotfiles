#!/bin/sh

# Run sxhkd only if not already running
pgrep -x sxhkd >/dev/null 2>&1 || sxhkd "/home/cdejoye/.config/bspwm/sxhkdrc" &

# Run the compositor for transparent window
# pgrep -x picom >/dev/null 2>&1 || picom -b

# Set the wallpaper
feh --no-fehbg --recursive --randomize --bg-scale ~/Pictures/Wallpapers

# Start urxvt deamon
pgrep -x urxvtd >/dev/null 2>&1 || urxvtd -q -f -o

# Start the notification deamon
pgrep -x dunst >/dev/null 2>&1 || dunst &

# Start xss-lock to handle the lock screen
pgrep -x xss-lock >/dev/null 2>&1 || xss-lock -q -- sflock -f -misc-hack-medium-r-normal--0-800-0-0-m-0-iso8859-1 -b 'You shall not pass!' -h &

# Start the daemon to auto mount USB drives
# Disable udsikie because it consume 2% of my memory (my old laptoop have less than 2G)
# So it disable auto mounting and notification on plug/mount (can be reactivated on faster computer)
# udiskie &

# Run custom script to start polybar (starts in background so no need to do it)
# Must be strated last, otherwise windows goes over it
$HOME/.config/polybar/launch.sh
